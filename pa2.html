<!DOCTYPE html>
<meta charset="UTF-8">
<html>

<head>
<title>Programming Assignment 2</title>
<style>
    body {
        background-color: #EEEEEE;
    }
    label {
        white-space: pre;
    }
</style>


<!-- vertex shader -->
<script type="x-shader/x-vertex" id="vshader-source">
    attribute vec3 a_coords;
    attribute vec3 a_normal;

    uniform mat4 modelview; 
    uniform mat4 projection; 
    
    uniform mat3 normalMatrix; 
    uniform vec4 lightPosition; 

    uniform vec4 diffuseColor;
    uniform vec3 specularColor;
    uniform float specularExponent;

    uniform int ambient;
    uniform int diffuse;       
    uniform int specular; 

    varying vec4 v_color; 

    void main(void){
        vec4 coords = vec4(a_coords, 1.0);
        vec4 eyeCoords = modelview * coords; 
        gl_Position = projection * eyeCoords; 

        // #######################################################################
        // ######## DEFINE N,L,R,V ############################################### 
        // #######################################################################
        vec3 N, L, R, V; 

        N = normalize( normalMatrix * a_normal);

        if(lightPosition.w == 0.0){
            L = normalize( lightPosition.xyz );
        }else{
            L = normalize( lightPosition.xyz/lightPosition.w - eyeCoords.xyz );
        }

        R = -reflect(L,N);
        V = normalize( -eyeCoords.xyz); 


        // #######################################################################
        // ############## Lighting ############################################### 
        // #######################################################################

        float ka = 0.1; 
        float kd = 0.8;
        float ks = 0.4;
        vec4 ambientLight = ka * diffuseColor;
        vec4 diffuseLight = kd * diffuseColor * max(dot(N,L), 0.0); 

        vec4 specularLight= ks * 
                            vec4(specularColor.xyz, 1) * 
                            pow(max(dot(R,V), 0.0), specularExponent); 

        v_color = vec4(0,0,0,1);

        if(ambient == 1){
            v_color = v_color + ambientLight;
        }

        if(diffuse == 1){
            v_color = v_color + diffuseLight; 
        }

        if(specular == 1){
            v_color = v_color + specularLight; 
        }
    }

</script>




<!-- fragment shader -->
<script type="x-shader/x-fragment" id="fshader-source">
    #ifdef GL_FRAGMENT_PRECISION_HIGH
       precision highp float;
    #else
       precision mediump float;
    #endif

    varying vec4 v_color;
    void main(void) {
        gl_FragColor = v_color;
    }    
        
</script>

<script src="gl-matrix-min.js"></script>
<script src="trackball-rotator.js"></script>
<script src="model.js"></script>
<script src="pa2.js"></script>
</head>


<body onload="init()">
Name: Jeffrey Omidvaran <br/>
Student ID: 32332249 <br/>

 <p style="width:600px; text-align: left;">
    <label><b>Object:</b> <select id="object">
        <option value="0">Torus</option>
        <option value="1">Cylinder</option>
        <option value="2">Sphere</option>
    </select></label><br>

    <label><b>Lighting:  </b></label>
    <label><b>Ambient</b><input type="checkbox" id="ambient"></label>
    <label><b>Diffuse</b><input type="checkbox" id="diffuse"></label>
    <label><b>Specular</b><input type="checkbox" id="specular"></label><br/>

    <label><b>Light Position:</b> <select id="lightpos">
        <option value="0">[0,0,0,1] (Viewpoint light)</option>
        <option value="1">[0,0,1,0] (Directional, into screen)</option>
        <option value="2">[0,1,0,0] (Directional, from above)</option>
        <option value="3">[0,0,-10,1] (On z-axis, close to object)</option>
        <option value="4">[2,3,5,0] (Directional from upper right)</option>

        <!--    
            TODO: Your code goes here.
            Add two more lights at different directions. One from the bottom and One
            from the left of the scene. Appropriately change the pa2.js file so that when user
            selects these new light positions, the scene gets updated.
        */ -->

        <option value="5">[0,0,0,0] (Bottom of the scene)</option>
        <option value="6">[0,0,0,0] (Left of the scene)</option>

    </select></label><br>

    <label><b>Specular Exponent:</b> <select id="exponent">
        <option>0</option>
        <option>1</option>
        <option>2</option>
        <option>5</option>
        <option>10</option>
        <option>20</option>
        <option>50</option>
        <option>100</option>
    </select></label>
</p>

<div id="canvas-holder">
   <canvas width=700 height=700 id="myGLCanvas" style="background-color:red"></canvas>
</div>

<p>
    TO DO: Write your description here
</p>

</body>


</html>

